function a0_0x52ac(_0x4b0ac7,_0x3e004a){const _0x421d2c=a0_0x41dd();return a0_0x52ac=function(_0xf7453d,_0x1a2272){_0xf7453d=_0xf7453d-0x1c0;let _0x41dd30=_0x421d2c[_0xf7453d];return _0x41dd30;},a0_0x52ac(_0x4b0ac7,_0x3e004a);}function a0_0x41dd(){const _0x4c4446=['join','1971240hLjlIk','GBIjK','KpHSJ','VSQkM','jIpYC','readFileSync','22HFJZjJ','mimetype','addOutputOptions','stringify','MioVV','libwebp','134570SDvTTB','randomBytes','312777xRTsRg','scale=512:512:force_original_aspect_ratio=increase,fps=15,crop=512:512','writeFileSync','Image','8187UbmcZb','.webp','apply','error','MPezB','ovvWV','concat','knJQJ','unlinkSync','wrDZj','ggowk','12SQSVre','toString','8WKJdRo','data','hex','GET','load','1493968jVNmUn','WTrkz','utf-8','author','test','constructor','56050dUwJeU','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/78.0.3904.70\x20Safari/537.36','ujDNH','writeUIntLE','-vf','xvQDz','PCXTc','MqerM','webp','.mp4','from','packname','end','save','sVlKp','ueaMV','34920FUSsXM','toFormat','116slHmgn','categories','.jpg','-vcodec','search'];a0_0x41dd=function(){return _0x4c4446;};return a0_0x41dd();}(function(_0x4091a6,_0x1ef23f){const _0x5b334c=a0_0x52ac,_0x99d309=_0x4091a6();while(!![]){try{const _0x4cfd90=-parseInt(_0x5b334c(0x1d6))/0x1+-parseInt(_0x5b334c(0x1c6))/0x2+-parseInt(_0x5b334c(0x1f0))/0x3*(parseInt(_0x5b334c(0x1d8))/0x4)+parseInt(_0x5b334c(0x1ea))/0x5*(parseInt(_0x5b334c(0x1fb))/0x6)+-parseInt(_0x5b334c(0x1c0))/0x7+-parseInt(_0x5b334c(0x1fd))/0x8*(-parseInt(_0x5b334c(0x1ec))/0x9)+-parseInt(_0x5b334c(0x1de))/0xa*(-parseInt(_0x5b334c(0x1e4))/0xb);if(_0x4cfd90===_0x1ef23f)break;else _0x99d309['push'](_0x99d309['shift']());}catch(_0x5711cb){_0x99d309['push'](_0x99d309['shift']());}}}(a0_0x41dd,0x1f157));const a0_0x1a2272=(function(){let _0x5f531=!![];return function(_0x12be2c,_0x13fc89){const _0x21e41d=_0x5f531?function(){const _0x45261f=a0_0x52ac;if(_0x13fc89){const _0x411642=_0x13fc89[_0x45261f(0x1f2)](_0x12be2c,arguments);return _0x13fc89=null,_0x411642;}}:function(){};return _0x5f531=![],_0x21e41d;};}()),a0_0xf7453d=a0_0x1a2272(this,function(){const _0x41c561=a0_0x52ac,_0x3833ea={'knJQJ':'(((.+)+)+)+$'};return a0_0xf7453d['toString']()[_0x41c561(0x1dc)](_0x3833ea[_0x41c561(0x1f7)])[_0x41c561(0x1fc)]()[_0x41c561(0x1c5)](a0_0xf7453d)[_0x41c561(0x1dc)](_0x3833ea[_0x41c561(0x1f7)]);});a0_0xf7453d();import a0_0x37965e from'axios';import a0_0x4495af from'crypto';import a0_0x4128da from'path';import{tmpdir}from'os';import a0_0x196221 from'fs';import a0_0x4a6cdb from'fluent-ffmpeg';import a0_0x2984a5 from'node-webpmux';async function imageToWebp(_0x34a49f){const _0x1969cb=a0_0x52ac,_0x3bb558={'ujDNH':function(_0x1dcd4d,_0x5478bb){return _0x1dcd4d(_0x5478bb);},'MPezB':'error','ueaMV':_0x1969cb(0x1d2),'ggowk':_0x1969cb(0x1ce),'sVlKp':function(_0x43a9ec){return _0x43a9ec();}},_0x464755=a0_0x4128da[_0x1969cb(0x1dd)](tmpdir(),a0_0x4495af[_0x1969cb(0x1eb)](0xa)[_0x1969cb(0x1fc)](_0x1969cb(0x1ff))+_0x1969cb(0x1f1)),_0x2f09bb=a0_0x4128da['join'](_0x3bb558[_0x1969cb(0x1d4)](tmpdir),a0_0x4495af['randomBytes'](0xa)[_0x1969cb(0x1fc)](_0x1969cb(0x1ff))+_0x1969cb(0x1da));a0_0x196221[_0x1969cb(0x1ee)](_0x2f09bb,_0x34a49f),await new Promise((_0x48309c,_0x19bd49)=>{const _0x534c60=_0x1969cb;_0x3bb558[_0x534c60(0x1c8)](a0_0x4a6cdb,_0x2f09bb)['on'](_0x3bb558[_0x534c60(0x1f4)],_0x19bd49)['on'](_0x3bb558[_0x534c60(0x1d5)],()=>_0x48309c(!![]))[_0x534c60(0x1e6)](['-vcodec',_0x534c60(0x1e9),_0x534c60(0x1ca),_0x534c60(0x1ed)])[_0x534c60(0x1d7)](_0x3bb558[_0x534c60(0x1fa)])['save'](_0x464755);});const _0x5e9065=a0_0x196221[_0x1969cb(0x1e3)](_0x464755);return a0_0x196221[_0x1969cb(0x1f8)](_0x464755),a0_0x196221[_0x1969cb(0x1f8)](_0x2f09bb),_0x5e9065;}async function videoToWebp(_0x50d772){const _0x2ec009=a0_0x52ac,_0xe68d19={'MmtAc':function(_0x4b0904,_0xcdfe2e){return _0x4b0904(_0xcdfe2e);},'ovvWV':_0x2ec009(0x1d2),'GBIjK':_0x2ec009(0x1ce),'CBuBq':function(_0x126a7e){return _0x126a7e();},'MioVV':'hex'},_0x4fc0a5=a0_0x4128da[_0x2ec009(0x1dd)](_0xe68d19['CBuBq'](tmpdir),a0_0x4495af[_0x2ec009(0x1eb)](0xa)[_0x2ec009(0x1fc)](_0xe68d19[_0x2ec009(0x1e8)])+_0x2ec009(0x1f1)),_0x4df56f=a0_0x4128da['join'](tmpdir(),a0_0x4495af[_0x2ec009(0x1eb)](0xa)[_0x2ec009(0x1fc)]('hex')+_0x2ec009(0x1cf));a0_0x196221[_0x2ec009(0x1ee)](_0x4df56f,_0x50d772),await new Promise((_0x5dc35d,_0x1dad2d)=>{const _0x51eded=_0x2ec009;_0xe68d19['MmtAc'](a0_0x4a6cdb,_0x4df56f)['on'](_0x51eded(0x1f3),_0x1dad2d)['on'](_0xe68d19[_0x51eded(0x1f5)],()=>_0x5dc35d(!![]))[_0x51eded(0x1e6)]([_0x51eded(0x1db),_0x51eded(0x1e9),'-vf',_0x51eded(0x1ed)])[_0x51eded(0x1d7)](_0xe68d19[_0x51eded(0x1df)])[_0x51eded(0x1d3)](_0x4fc0a5);});const _0x548743=a0_0x196221[_0x2ec009(0x1e3)](_0x4fc0a5);return a0_0x196221[_0x2ec009(0x1f8)](_0x4fc0a5),a0_0x196221[_0x2ec009(0x1f8)](_0x4df56f),_0x548743;}async function fetchBuffer(_0x16fc50,_0x49be34){const _0x1cfe00=a0_0x52ac,_0x7d5d6c={'KpHSJ':function(_0x88e7fd,_0xf8b1b2){return _0x88e7fd(_0xf8b1b2);},'WTrkz':_0x1cfe00(0x200),'MqerM':'arraybuffer'};try{_0x49be34?_0x49be34:{};const _0x35c1a3=await _0x7d5d6c[_0x1cfe00(0x1e0)](a0_0x37965e,{'method':_0x7d5d6c[_0x1cfe00(0x1c1)],'url':_0x16fc50,'headers':{'User-Agent':_0x1cfe00(0x1c7),'DNT':0x1,'Upgrade-Insecure-Request':0x1},..._0x49be34,'responseType':_0x7d5d6c[_0x1cfe00(0x1cd)]});return _0x35c1a3[_0x1cfe00(0x1fe)];}catch(_0x507b79){return _0x507b79;}}async function fetchJson(_0x5af054,_0x24759e){const _0x42a5a2=a0_0x52ac,_0x23ee2e={'BMwbJ':function(_0x1c3cc0,_0x538cad){return _0x1c3cc0(_0x538cad);},'wrDZj':'GET','VSQkM':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/95.0.4638.69\x20Safari/537.36'};try{_0x24759e?_0x24759e:{};const _0x5068fd=await _0x23ee2e['BMwbJ'](a0_0x37965e,{'method':_0x23ee2e[_0x42a5a2(0x1f9)],'url':_0x5af054,'headers':{'User-Agent':_0x23ee2e[_0x42a5a2(0x1e1)]},..._0x24759e});return _0x5068fd['data'];}catch(_0xa09838){return _0xa09838;}}async function writeExif(_0x4ff193,_0x41f348){const _0x132c81=a0_0x52ac,_0x4393cb={'jczgE':function(_0x3bf9bd,_0x82f6e4){return _0x3bf9bd(_0x82f6e4);},'xvQDz':'hex','PCXTc':function(_0x53bde8){return _0x53bde8();},'jIpYC':_0x132c81(0x1c2)};let _0x4da908=/webp/[_0x132c81(0x1c4)](_0x4ff193[_0x132c81(0x1e5)])?_0x4ff193[_0x132c81(0x1fe)]:/image/[_0x132c81(0x1c4)](_0x4ff193[_0x132c81(0x1e5)])?await imageToWebp(_0x4ff193['data']):/video/[_0x132c81(0x1c4)](_0x4ff193[_0x132c81(0x1e5)])?await _0x4393cb['jczgE'](videoToWebp,_0x4ff193[_0x132c81(0x1fe)]):'';const _0x596bef=a0_0x4128da[_0x132c81(0x1dd)](tmpdir(),a0_0x4495af[_0x132c81(0x1eb)](0xa)['toString'](_0x4393cb[_0x132c81(0x1cb)])+'.webp'),_0x5cf0c0=a0_0x4128da['join'](_0x4393cb[_0x132c81(0x1cc)](tmpdir),a0_0x4495af['randomBytes'](0xa)['toString'](_0x132c81(0x1ff))+_0x132c81(0x1f1));a0_0x196221[_0x132c81(0x1ee)](_0x596bef,_0x4da908);if(_0x41f348[_0x132c81(0x1d1)]||_0x41f348[_0x132c81(0x1c3)]){const _0xecb91c=new a0_0x2984a5[(_0x132c81(0x1ef))](),_0x5379bd={'sticker-pack-id':'Nightmare\x20-\x20md','sticker-pack-name':_0x41f348[_0x132c81(0x1d1)],'sticker-pack-publisher':_0x41f348['author'],'emojis':_0x41f348['categories']?_0x41f348[_0x132c81(0x1d9)]:['']},_0x3cb3ef=Buffer[_0x132c81(0x1d0)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x24be77=Buffer[_0x132c81(0x1d0)](JSON[_0x132c81(0x1e7)](_0x5379bd),_0x4393cb[_0x132c81(0x1e2)]),_0x1566c4=Buffer[_0x132c81(0x1f6)]([_0x3cb3ef,_0x24be77]);return _0x1566c4[_0x132c81(0x1c9)](_0x24be77['length'],0xe,0x4),await _0xecb91c[_0x132c81(0x201)](_0x596bef),a0_0x196221['unlinkSync'](_0x596bef),_0xecb91c['exif']=_0x1566c4,await _0xecb91c[_0x132c81(0x1d3)](_0x5cf0c0),_0x5cf0c0;}}export{fetchJson,fetchBuffer,imageToWebp,videoToWebp,writeExif};