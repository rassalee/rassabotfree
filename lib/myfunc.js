(function(_0x3b4f0f,_0x46b23d){const _0x32a4f4=a0_0x1206,_0x4d7d40=_0x3b4f0f();while(!![]){try{const _0x40d55d=parseInt(_0x32a4f4(0x15d))/0x1*(parseInt(_0x32a4f4(0x176))/0x2)+parseInt(_0x32a4f4(0x156))/0x3+parseInt(_0x32a4f4(0x179))/0x4*(-parseInt(_0x32a4f4(0x148))/0x5)+-parseInt(_0x32a4f4(0x164))/0x6+-parseInt(_0x32a4f4(0x144))/0x7*(parseInt(_0x32a4f4(0x16d))/0x8)+parseInt(_0x32a4f4(0x14c))/0x9+-parseInt(_0x32a4f4(0x175))/0xa*(-parseInt(_0x32a4f4(0x17e))/0xb);if(_0x40d55d===_0x46b23d)break;else _0x4d7d40['push'](_0x4d7d40['shift']());}catch(_0x221160){_0x4d7d40['push'](_0x4d7d40['shift']());}}}(a0_0x1390,0x60b8d));const a0_0x1cc2a0=(function(){let _0x1ea855=!![];return function(_0x12bf32,_0x3c2666){const _0xc78884=_0x1ea855?function(){const _0x4ddbf8=a0_0x1206;if(_0x3c2666){const _0x5b61d6=_0x3c2666[_0x4ddbf8(0x15b)](_0x12bf32,arguments);return _0x3c2666=null,_0x5b61d6;}}:function(){};return _0x1ea855=![],_0xc78884;};}()),a0_0x176716=a0_0x1cc2a0(this,function(){const _0x5c4979=a0_0x1206,_0x253368={'FgSOD':_0x5c4979(0x153)};return a0_0x176716[_0x5c4979(0x178)]()[_0x5c4979(0x161)](_0x253368[_0x5c4979(0x158)])[_0x5c4979(0x178)]()[_0x5c4979(0x16a)](a0_0x176716)['search'](_0x5c4979(0x153));});a0_0x176716();function a0_0x1390(){const _0x2530de=['3910DSpYJN','704sfynwx','GET','toString','1980zPgrcW','.jpg','exif','sIDlB','end','5819oAhtxz','iMlnc','IsJjF','author','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/95.0.4638.69\x20Safari/537.36','IsWOT','Nightmare\x20-\x20md','hex','addOutputOptions','3122pxAlAj','scale=512:512:force_original_aspect_ratio=increase,fps=15,crop=512:512','.mp4','EXFup','3215SIqWpO','.webp','RKqGn','randomBytes','192114HgEGJt','join','mreOg','error','toFormat','IIkfb','unlinkSync','(((.+)+)+)+$','-vf','test','2247453lShFNB','ccyiN','FgSOD','OdWIx','CIjWe','apply','jCDir','309LFAuDg','EjnEH','YwUUK','mimetype','search','webp','length','2162976WUShqa','usipB','-vcodec','libwebp','vAHTI','data','constructor','categories','readFileSync','200ojyZhF','packname','save','writeFileSync','stringify','Image','writeUIntLE','RrprO'];a0_0x1390=function(){return _0x2530de;};return a0_0x1390();}import a0_0x2487df from'axios';import a0_0x26a074 from'crypto';import a0_0x57c804 from'path';import{tmpdir}from'os';import a0_0x3e5944 from'fs';import a0_0x3148b4 from'fluent-ffmpeg';import a0_0x2ccbd6 from'node-webpmux';function a0_0x1206(_0xee09c0,_0x317753){const _0x1c95fd=a0_0x1390();return a0_0x1206=function(_0x176716,_0x1cc2a0){_0x176716=_0x176716-0x144;let _0x1390a7=_0x1c95fd[_0x176716];return _0x1390a7;},a0_0x1206(_0xee09c0,_0x317753);}async function imageToWebp(_0xd31382){const _0x50ce26=a0_0x1206,_0x5c0572={'CIjWe':function(_0x363bb5,_0x41d111){return _0x363bb5(_0x41d111);},'OdWIx':_0x50ce26(0x17d),'RKqGn':'webp','EjnEH':function(_0x215a22){return _0x215a22();},'mreOg':'hex'},_0x1d97c4=a0_0x57c804[_0x50ce26(0x14d)](_0x5c0572[_0x50ce26(0x15e)](tmpdir),a0_0x26a074[_0x50ce26(0x14b)](0xa)[_0x50ce26(0x178)](_0x50ce26(0x185))+_0x50ce26(0x149)),_0x43047c=a0_0x57c804[_0x50ce26(0x14d)](_0x5c0572[_0x50ce26(0x15e)](tmpdir),a0_0x26a074[_0x50ce26(0x14b)](0xa)[_0x50ce26(0x178)](_0x5c0572[_0x50ce26(0x14e)])+_0x50ce26(0x17a));a0_0x3e5944[_0x50ce26(0x170)](_0x43047c,_0xd31382),await new Promise((_0x47a7dc,_0x1dcc10)=>{const _0x28dd73=_0x50ce26;_0x5c0572[_0x28dd73(0x15a)](a0_0x3148b4,_0x43047c)['on'](_0x28dd73(0x14f),_0x1dcc10)['on'](_0x5c0572[_0x28dd73(0x159)],()=>_0x47a7dc(!![]))[_0x28dd73(0x186)]([_0x28dd73(0x166),_0x28dd73(0x167),_0x28dd73(0x154),'scale=512:512:force_original_aspect_ratio=increase,fps=15,crop=512:512'])[_0x28dd73(0x150)](_0x5c0572[_0x28dd73(0x14a)])[_0x28dd73(0x16f)](_0x1d97c4);});const _0x1ccf56=a0_0x3e5944[_0x50ce26(0x16c)](_0x1d97c4);return a0_0x3e5944[_0x50ce26(0x152)](_0x1d97c4),a0_0x3e5944[_0x50ce26(0x152)](_0x43047c),_0x1ccf56;}async function videoToWebp(_0x191535){const _0x48ad11=a0_0x1206,_0x4fc9d8={'RrprO':'error','sIDlB':_0x48ad11(0x17d),'EXFup':_0x48ad11(0x162),'RcsHR':function(_0x1f8ef8){return _0x1f8ef8();},'YwUUK':_0x48ad11(0x185)},_0x5b8238=a0_0x57c804[_0x48ad11(0x14d)](_0x4fc9d8['RcsHR'](tmpdir),a0_0x26a074[_0x48ad11(0x14b)](0xa)[_0x48ad11(0x178)](_0x4fc9d8[_0x48ad11(0x15f)])+_0x48ad11(0x149)),_0x352d19=a0_0x57c804[_0x48ad11(0x14d)](tmpdir(),a0_0x26a074['randomBytes'](0xa)[_0x48ad11(0x178)](_0x4fc9d8[_0x48ad11(0x15f)])+_0x48ad11(0x146));a0_0x3e5944['writeFileSync'](_0x352d19,_0x191535),await new Promise((_0x33d524,_0x48662d)=>{const _0x15089d=_0x48ad11;a0_0x3148b4(_0x352d19)['on'](_0x4fc9d8[_0x15089d(0x174)],_0x48662d)['on'](_0x4fc9d8[_0x15089d(0x17c)],()=>_0x33d524(!![]))[_0x15089d(0x186)]([_0x15089d(0x166),_0x15089d(0x167),_0x15089d(0x154),_0x15089d(0x145)])['toFormat'](_0x4fc9d8[_0x15089d(0x147)])[_0x15089d(0x16f)](_0x5b8238);});const _0x1c3f27=a0_0x3e5944[_0x48ad11(0x16c)](_0x5b8238);return a0_0x3e5944[_0x48ad11(0x152)](_0x5b8238),a0_0x3e5944['unlinkSync'](_0x352d19),_0x1c3f27;}async function fetchBuffer(_0x2f2d6e,_0x21dd48){const _0x2ddd94=a0_0x1206,_0x57712a={'iSQBU':_0x2ddd94(0x177),'IsJjF':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/78.0.3904.70\x20Safari/537.36'};try{_0x21dd48?_0x21dd48:{};const _0x3059b9=await a0_0x2487df({'method':_0x57712a['iSQBU'],'url':_0x2f2d6e,'headers':{'User-Agent':_0x57712a[_0x2ddd94(0x180)],'DNT':0x1,'Upgrade-Insecure-Request':0x1},..._0x21dd48,'responseType':'arraybuffer'});return _0x3059b9[_0x2ddd94(0x169)];}catch(_0x10240e){return _0x10240e;}}async function fetchJson(_0x164f65,_0x3468e3){const _0x4cfa85=a0_0x1206,_0x55ae14={'IIkfb':_0x4cfa85(0x177),'vAHTI':_0x4cfa85(0x182)};try{_0x3468e3?_0x3468e3:{};const _0x3842ca=await a0_0x2487df({'method':_0x55ae14[_0x4cfa85(0x151)],'url':_0x164f65,'headers':{'User-Agent':_0x55ae14[_0x4cfa85(0x168)]},..._0x3468e3});return _0x3842ca[_0x4cfa85(0x169)];}catch(_0x46dd3d){return _0x46dd3d;}}async function writeExif(_0x296a88,_0xb7dc7f){const _0x51ca0e=a0_0x1206,_0x27b146={'jCDir':function(_0x41f5b2,_0x17e028){return _0x41f5b2(_0x17e028);},'IsWOT':function(_0x46692b){return _0x46692b();},'usipB':_0x51ca0e(0x185),'iMlnc':function(_0x292d95){return _0x292d95();},'ccyiN':'utf-8'};let _0x32e296=/webp/[_0x51ca0e(0x155)](_0x296a88[_0x51ca0e(0x160)])?_0x296a88[_0x51ca0e(0x169)]:/image/['test'](_0x296a88['mimetype'])?await _0x27b146[_0x51ca0e(0x15c)](imageToWebp,_0x296a88[_0x51ca0e(0x169)]):/video/[_0x51ca0e(0x155)](_0x296a88[_0x51ca0e(0x160)])?await _0x27b146[_0x51ca0e(0x15c)](videoToWebp,_0x296a88['data']):'';const _0x3abb23=a0_0x57c804['join'](_0x27b146[_0x51ca0e(0x183)](tmpdir),a0_0x26a074['randomBytes'](0xa)[_0x51ca0e(0x178)](_0x27b146['usipB'])+_0x51ca0e(0x149)),_0x9ed167=a0_0x57c804[_0x51ca0e(0x14d)](_0x27b146[_0x51ca0e(0x17f)](tmpdir),a0_0x26a074['randomBytes'](0xa)[_0x51ca0e(0x178)](_0x27b146[_0x51ca0e(0x165)])+_0x51ca0e(0x149));a0_0x3e5944[_0x51ca0e(0x170)](_0x3abb23,_0x32e296);if(_0xb7dc7f[_0x51ca0e(0x16e)]||_0xb7dc7f[_0x51ca0e(0x181)]){const _0xdad782=new a0_0x2ccbd6[(_0x51ca0e(0x172))](),_0x4d9f57={'sticker-pack-id':_0x51ca0e(0x184),'sticker-pack-name':_0xb7dc7f['packname'],'sticker-pack-publisher':_0xb7dc7f['author'],'emojis':_0xb7dc7f[_0x51ca0e(0x16b)]?_0xb7dc7f[_0x51ca0e(0x16b)]:['']},_0x2fdfc9=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x5f2217=Buffer['from'](JSON[_0x51ca0e(0x171)](_0x4d9f57),_0x27b146[_0x51ca0e(0x157)]),_0x3d4445=Buffer['concat']([_0x2fdfc9,_0x5f2217]);return _0x3d4445[_0x51ca0e(0x173)](_0x5f2217[_0x51ca0e(0x163)],0xe,0x4),await _0xdad782['load'](_0x3abb23),a0_0x3e5944[_0x51ca0e(0x152)](_0x3abb23),_0xdad782[_0x51ca0e(0x17b)]=_0x3d4445,await _0xdad782[_0x51ca0e(0x16f)](_0x9ed167),_0x9ed167;}}export{fetchJson,fetchBuffer,imageToWebp,videoToWebp,writeExif};