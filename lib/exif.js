(function(_0x23608e,_0x290b83){const _0x5ecfbd=a0_0x30b0,_0x58f3b7=_0x23608e();while(!![]){try{const _0x58059b=parseInt(_0x5ecfbd(0x166))/0x1+-parseInt(_0x5ecfbd(0x1a0))/0x2*(parseInt(_0x5ecfbd(0x174))/0x3)+parseInt(_0x5ecfbd(0x187))/0x4*(parseInt(_0x5ecfbd(0x160))/0x5)+-parseInt(_0x5ecfbd(0x162))/0x6*(-parseInt(_0x5ecfbd(0x186))/0x7)+-parseInt(_0x5ecfbd(0x16d))/0x8+parseInt(_0x5ecfbd(0x16b))/0x9+parseInt(_0x5ecfbd(0x178))/0xa;if(_0x58059b===_0x290b83)break;else _0x58f3b7['push'](_0x58f3b7['shift']());}catch(_0x12c84c){_0x58f3b7['push'](_0x58f3b7['shift']());}}}(a0_0x21c5,0x8a485));const a0_0x162c49=(function(){let _0x5264ec=!![];return function(_0x577bb3,_0x5c587f){const _0x3bd249=_0x5264ec?function(){const _0x454f0c=a0_0x30b0;if(_0x5c587f){const _0x5eb810=_0x5c587f[_0x454f0c(0x194)](_0x577bb3,arguments);return _0x5c587f=null,_0x5eb810;}}:function(){};return _0x5264ec=![],_0x3bd249;};}()),a0_0x3c5942=a0_0x162c49(this,function(){const _0x30ef89=a0_0x30b0,_0x5870ec={'sUCyL':_0x30ef89(0x15f)};return a0_0x3c5942[_0x30ef89(0x183)]()[_0x30ef89(0x175)](_0x5870ec[_0x30ef89(0x163)])[_0x30ef89(0x183)]()[_0x30ef89(0x179)](a0_0x3c5942)[_0x30ef89(0x175)](_0x5870ec[_0x30ef89(0x163)]);});function a0_0x21c5(){const _0x1ed92a=['mrWfV','toString','BXcLq','randomBytes','11291CHwzPg','2462932okQrCd','exif','00:00:00','ghZTm','webp','00:00:05','https://github.com/DikaArdnt/Hisoka-Morou','BBNkp','pnwXB','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','DKUVH','writeFileSync','XMwfI','apply','rGmmr','toFormat','JvYjy','-preset','load','end','luFej','categories','utf-8','PGuyM','sWLYS','1114ngSHmI','https://dikode-team.com','libwebp','Image','-vf','error','dLrBT','avLbW','(((.+)+)+)+$','5gspGKP','DODex','4116zIVPjZ','sUCyL','-loop','dCHpP','96581vQQwyV','readUIntLE','concat','save','author','317862ZCvRpW','writeUIntLE','7452384EmFPmI','length','readFileSync','mCaMt','default','-vcodec','addOutputOptions','5667eWEBxn','search','ExROc','-an','6959760bfdhGm','constructor','from','join','unlinkSync','zUdEG','.webp','ctwqJ','packname','stringify'];a0_0x21c5=function(){return _0x1ed92a;};return a0_0x21c5();}a0_0x3c5942();import a0_0x1d5a5c from'fs';function a0_0x30b0(_0x18e83c,_0x38183b){const _0x2841b8=a0_0x21c5();return a0_0x30b0=function(_0x3c5942,_0x162c49){_0x3c5942=_0x3c5942-0x15a;let _0x21c50a=_0x2841b8[_0x3c5942];return _0x21c50a;},a0_0x30b0(_0x18e83c,_0x38183b);}import{tmpdir}from'os';import a0_0x212e5a from'crypto';import a0_0x6d8a32 from'fluent-ffmpeg';import a0_0x2f1365 from'node-webpmux';import a0_0x141f9e from'path';async function imageToWebp(_0x4caeb6){const _0x3181f6=a0_0x30b0,_0x28de92={'rGmmr':_0x3181f6(0x15c),'BBNkp':_0x3181f6(0x19a),'XEciu':'-vcodec','JvYjy':_0x3181f6(0x1a2),'SySVw':_0x3181f6(0x190),'dLrBT':_0x3181f6(0x18b)},_0x96fc74=a0_0x141f9e[_0x3181f6(0x17b)](tmpdir(),a0_0x212e5a[_0x3181f6(0x185)](0x6)[_0x3181f6(0x167)](0x0,0x6)[_0x3181f6(0x183)](0x24)+_0x3181f6(0x17e)),_0x1d7219=a0_0x141f9e[_0x3181f6(0x17b)](tmpdir(),a0_0x212e5a['randomBytes'](0x6)[_0x3181f6(0x167)](0x0,0x6)[_0x3181f6(0x183)](0x24)+'.jpg');a0_0x1d5a5c['writeFileSync'](_0x1d7219,_0x4caeb6),await new Promise((_0x4f06e4,_0xa39839)=>{const _0x2ddb5f=_0x3181f6;a0_0x6d8a32(_0x1d7219)['on'](_0x28de92[_0x2ddb5f(0x195)],_0xa39839)['on'](_0x28de92[_0x2ddb5f(0x18e)],()=>_0x4f06e4(!![]))[_0x2ddb5f(0x173)]([_0x28de92['XEciu'],_0x28de92[_0x2ddb5f(0x197)],_0x2ddb5f(0x15b),_0x28de92['SySVw']])[_0x2ddb5f(0x196)](_0x28de92[_0x2ddb5f(0x15d)])[_0x2ddb5f(0x169)](_0x96fc74);});const _0x1a114a=a0_0x1d5a5c[_0x3181f6(0x16f)](_0x96fc74);return a0_0x1d5a5c[_0x3181f6(0x17c)](_0x96fc74),a0_0x1d5a5c[_0x3181f6(0x17c)](_0x1d7219),_0x1a114a;}async function videoToWebp(_0x2fa314){const _0x2679a2=a0_0x30b0,_0x248872={'pnwXB':function(_0x4a1b6d,_0x5e6411){return _0x4a1b6d(_0x5e6411);},'avLbW':_0x2679a2(0x15c),'dCHpP':_0x2679a2(0x19a),'sWLYS':_0x2679a2(0x1a2),'XMwfI':'-vf','BXcLq':_0x2679a2(0x190),'mrWfV':_0x2679a2(0x164),'YwQmA':_0x2679a2(0x189),'ctwqJ':_0x2679a2(0x18c),'mCaMt':_0x2679a2(0x171),'PGuyM':_0x2679a2(0x177),'ExROc':'-vsync','zUdEG':function(_0x16fb27){return _0x16fb27();}},_0x278424=a0_0x141f9e['join'](_0x248872[_0x2679a2(0x17d)](tmpdir),a0_0x212e5a[_0x2679a2(0x185)](0x6)['readUIntLE'](0x0,0x6)[_0x2679a2(0x183)](0x24)+_0x2679a2(0x17e)),_0x1e51b5=a0_0x141f9e[_0x2679a2(0x17b)](_0x248872[_0x2679a2(0x17d)](tmpdir),a0_0x212e5a[_0x2679a2(0x185)](0x6)[_0x2679a2(0x167)](0x0,0x6)[_0x2679a2(0x183)](0x24)+'.mp4');a0_0x1d5a5c[_0x2679a2(0x192)](_0x1e51b5,_0x2fa314),await new Promise((_0x4426f9,_0x320bb3)=>{const _0x5875f6=_0x2679a2;_0x248872[_0x5875f6(0x18f)](a0_0x6d8a32,_0x1e51b5)['on'](_0x248872[_0x5875f6(0x15e)],_0x320bb3)['on'](_0x248872[_0x5875f6(0x165)],()=>_0x4426f9(!![]))[_0x5875f6(0x173)]([_0x5875f6(0x172),_0x248872[_0x5875f6(0x19f)],_0x248872[_0x5875f6(0x193)],_0x248872[_0x5875f6(0x184)],_0x248872[_0x5875f6(0x182)],'0','-ss',_0x248872['YwQmA'],'-t',_0x248872[_0x5875f6(0x17f)],_0x5875f6(0x198),_0x248872[_0x5875f6(0x170)],_0x248872[_0x5875f6(0x19e)],_0x248872[_0x5875f6(0x176)],'0'])[_0x5875f6(0x196)](_0x5875f6(0x18b))[_0x5875f6(0x169)](_0x278424);});const _0x2efce9=a0_0x1d5a5c[_0x2679a2(0x16f)](_0x278424);return a0_0x1d5a5c['unlinkSync'](_0x278424),a0_0x1d5a5c[_0x2679a2(0x17c)](_0x1e51b5),_0x2efce9;}async function writeExifImg(_0x807ea0,_0x12d537){const _0x84a65f=a0_0x30b0,_0x43b54c={'DODex':function(_0x4d8f44,_0x5c77c9){return _0x4d8f44(_0x5c77c9);},'eSzZP':function(_0x280497){return _0x280497();},'DKUVH':function(_0x482523){return _0x482523();}};let _0x47ebff=await _0x43b54c[_0x84a65f(0x161)](imageToWebp,_0x807ea0);const _0x31d58f=a0_0x141f9e['join'](_0x43b54c['eSzZP'](tmpdir),a0_0x212e5a[_0x84a65f(0x185)](0x6)[_0x84a65f(0x167)](0x0,0x6)[_0x84a65f(0x183)](0x24)+_0x84a65f(0x17e)),_0x1dc492=a0_0x141f9e[_0x84a65f(0x17b)](_0x43b54c[_0x84a65f(0x191)](tmpdir),a0_0x212e5a[_0x84a65f(0x185)](0x6)['readUIntLE'](0x0,0x6)[_0x84a65f(0x183)](0x24)+'.webp');a0_0x1d5a5c['writeFileSync'](_0x31d58f,_0x47ebff);if(_0x12d537[_0x84a65f(0x180)]||_0x12d537['author']){const _0x1da936=new a0_0x2f1365[(_0x84a65f(0x15a))](),_0x161387={'sticker-pack-id':_0x84a65f(0x18d),'sticker-pack-name':_0x12d537['packname'],'sticker-pack-publisher':_0x12d537[_0x84a65f(0x16a)],'emojis':_0x12d537[_0x84a65f(0x19c)]?_0x12d537[_0x84a65f(0x19c)]:['']},_0x40679e=Buffer[_0x84a65f(0x17a)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x10cd3c=Buffer[_0x84a65f(0x17a)](JSON[_0x84a65f(0x181)](_0x161387),'utf-8'),_0x2f7fb9=Buffer[_0x84a65f(0x168)]([_0x40679e,_0x10cd3c]);return _0x2f7fb9[_0x84a65f(0x16c)](_0x10cd3c[_0x84a65f(0x16e)],0xe,0x4),await _0x1da936[_0x84a65f(0x199)](_0x31d58f),a0_0x1d5a5c['unlinkSync'](_0x31d58f),_0x1da936[_0x84a65f(0x188)]=_0x2f7fb9,await _0x1da936[_0x84a65f(0x169)](_0x1dc492),_0x1dc492;}}async function writeExifVid(_0x9105a3,_0x6d1a4d){const _0x5419c9=a0_0x30b0,_0x34d7cf={'ghZTm':function(_0x409688,_0x18ef95){return _0x409688(_0x18ef95);},'luFej':function(_0x203320){return _0x203320();}};let _0xea1333=await _0x34d7cf[_0x5419c9(0x18a)](videoToWebp,_0x9105a3);const _0x4a5d41=a0_0x141f9e['join'](tmpdir(),a0_0x212e5a[_0x5419c9(0x185)](0x6)[_0x5419c9(0x167)](0x0,0x6)[_0x5419c9(0x183)](0x24)+_0x5419c9(0x17e)),_0x49fbf4=a0_0x141f9e[_0x5419c9(0x17b)](_0x34d7cf[_0x5419c9(0x19b)](tmpdir),a0_0x212e5a['randomBytes'](0x6)[_0x5419c9(0x167)](0x0,0x6)[_0x5419c9(0x183)](0x24)+_0x5419c9(0x17e));a0_0x1d5a5c[_0x5419c9(0x192)](_0x4a5d41,_0xea1333);if(_0x6d1a4d[_0x5419c9(0x180)]||_0x6d1a4d[_0x5419c9(0x16a)]){const _0x1ba3d9=new a0_0x2f1365[(_0x5419c9(0x15a))](),_0x5d003e={'sticker-pack-id':_0x5419c9(0x1a1),'sticker-pack-name':_0x6d1a4d[_0x5419c9(0x180)],'sticker-pack-publisher':_0x6d1a4d[_0x5419c9(0x16a)],'emojis':_0x6d1a4d[_0x5419c9(0x19c)]?_0x6d1a4d[_0x5419c9(0x19c)]:['']},_0x1883e3=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x930865=Buffer[_0x5419c9(0x17a)](JSON[_0x5419c9(0x181)](_0x5d003e),_0x5419c9(0x19d)),_0x5af2a7=Buffer['concat']([_0x1883e3,_0x930865]);return _0x5af2a7[_0x5419c9(0x16c)](_0x930865[_0x5419c9(0x16e)],0xe,0x4),await _0x1ba3d9[_0x5419c9(0x199)](_0x4a5d41),a0_0x1d5a5c[_0x5419c9(0x17c)](_0x4a5d41),_0x1ba3d9['exif']=_0x5af2a7,await _0x1ba3d9[_0x5419c9(0x169)](_0x49fbf4),_0x49fbf4;}}export default{'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid};